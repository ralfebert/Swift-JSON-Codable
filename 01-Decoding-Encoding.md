---
description: With the Codable protocol and JSONDecoder and JSONEncoder, JSON data can be decoded and encoded in Swift.
url: https://www.ralfebert.de/swift/parse-generate-json-codable/
publish_date: 2021-06-29T14:49:01+0200
---

# Generating and parsing JSON in Swift with Codable types

With the Foundation classes [`JSONDecoder`](https://developer.apple.com/documentation/foundation/jsondecoder) and [`JSONEncoder`](https://developer.apple.com/documentation/foundation/jsonencoder) can be parsed and generated by automatically mapping the JSON structure to Swift types that conform to the [`Codable`](https://developer.apple.com/documentation/swift/codable) protocol.

## Defining Codable types

The easiest case and recommended structure is to define the data types as struct exactly matching the structure of the JSON format. Let these types implement the Codable protocol:

    !swift
    struct Person: Codable {
        let name: String
        let age: Int
        let phone: [Phone]?
        let address: Address?
    }
    
    struct Address: Codable {
        let street, zip, city: String
    }
    
    struct Phone: Codable {
        let type, number: String
    }

## Parsing JSON

To parse a JSON file included in the Xcode project and shipped with the app:

    !swift
    !playground: JSON.playground
    if let jsonURL = Bundle.main.url(forResource: "person", withExtension: "json") {
        let jsonData = try Data(contentsOf: jsonURL)
        «let jsonDecoder = JSONDecoder()
        let person = try jsonDecoder.decode(Person.self, from: jsonData)»
    }

## Generating JSON

To generate JSON from a `Codable` value:

    !swift
    !playground: JSON.playground
    «let jsonEncoder = JSONEncoder()
    jsonEncoder.outputFormatting = .prettyPrinted
    let jsonResultData = try jsonEncoder.encode(persons)»
    if let jsonResultString = String(data: jsonResultData, encoding: .utf8) {
        print(jsonResultString)
    }

